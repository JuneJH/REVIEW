# 性能优化
- 减少请求次数
- 减少请求资源的大小，降低所消耗的时间
- 客户端操作DOM

## CSS & JS

* 当一个页面被加载进浏览器显示给用户的时候，他需要经历解析HTML，CSS，合成渲染树，然后进行布局和渲染
1. css是采用自右向左的解析，因此可以减少和注意使用标签选择器，和多次嵌套写法，尽量低于三次嵌套。不要使用*选择器，因为他会去遍历所有节点。
2. 使用类样式进行修改样式

* 当进行DOM操作的时候会触发重排和重绘，因此我们需要减少和降低触发频率.重排将会导致重新布局和重新绘制，重绘将会导致重新绘制
1. 现代浏览器会将一个dom操作放入一个队列进行集中操作，但是如果在对dom操作过程同时进行了读的操作，那么他将隔断操作，因此需要分开读写操作。
2. 虽然浏览器可以集中操作，但是有些浏览器不支持和需要进行大量的dom操作，所以可以使用离线DOM，通过设置CSS属性display将该DOM离线。
3. 使用文档碎片和CloneNode进行添加修改操作DOM
4. 对于position属性值为absolute和fixed，对重排影响小于正常的，因为他不用考虑对其他元素的影响，脱离文档流
5. 设置visibility : hidden只会产生重绘，而display会产生重排
6. 使用异步更新策略，最好是使用微队列

## http请求

* 浏览器对并发请求限制在6个左右，因此需要减少请求的次数和减少请求时间，或者将资源发在多个域名上的。
1. 使用雪碧图和base64格式来处理小图片，达到减少http请求的次数
2. 合理的使用字体图标
3. 合并脚本和样式表，现在的构建工具

* 利用构建工具减少请求资源的体积，和时间
1. 使用loader时尽量配置include和exclude来指定处理文件，避免浪费一定的时间
2. 有些编译后的并没有改变可以使用缓存
3. 使用HappyPack将loader放入多线程进行编译
4. 使用DllPlugin集中打包第三方依赖单独成为一个文件，只要依赖不发生变化都不会在进行打包
5. 使用压缩插件
6. tree-shaking，webpack4.0在生产环境下自动
7. 按需加载

### 开启http缓存

* 强缓存 通过设置响应头Expires/cache-control
1. 强缓存将不会发送http请求，状态码为200
2. expires是通过时间戳来控制的，cache-control是通过时间段来控制的
3. 没有命中强缓存将进入协商缓存
* 协商缓存 通过设置last-modified和etag
1. 协商缓存会发送请求和服务端进行确认，会带上if-modify-since和if-none-match字段即last-modified和etag的值
2. Etag是通过监听文件内容是否发生该变而进行修改文件名，last-modified是监听上次修改的时间
3. 协商缓存一般是304 not modified

## 使用CDN进行缓存

* CDN具有回溯和缓存的功能

## 首屏优化

1. 使用服务端渲染


