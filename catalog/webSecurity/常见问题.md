# 安全问题

1. XSS(Cross Site Scripting,跨站脚本攻击)
    * 攻击者在网站注入恶意的代码片段，一般为脚本，从而对客户端页面进行修改，达到控制用户cookie，session。
    - 反射型，主要诱导用户点击一个链接，然后向攻击者的服务器发送请求，得到攻击者准备好的页面和脚本
    - 存储型：主要出现在一些论坛或者评论区，攻击者把脚本放入评论区提交，这个脚本被保存在数据库中，等到下次用户进入该论坛或者该文章，加载是就会触发恶意脚本
    - Dom型：主要发生在客户端，通过输入脚本生成新的链接，修改原dom的结构，然后通过点击该链接就可以去访问其他网站，或者执行恶意脚本
    **防御**
    * XSS攻击其中之一的目的是想获取到用户的信息cookie，通过cookie来冒充用户登录等。所以可以通过限制cookie来防御，通过设置cookie的HttpOnly，该属性将禁止页面脚本访问cookie
    * 输入检查，不要相信用户输入的任何东西，将脚本进行转译
    * 输出检查，控制，过滤输出
    * CSP建立白名单，可以通过设置http Header中Content-Security-Policy,或者meta标签

2. CSRF(Cross Site Request Forgery 跨站请求伪造)
    * 攻击者诱导用户进入第三方网站，利用用户获得已获得权限得被攻击服务器得凭证，进行发送请求进行攻击。
    **防御**
    * 通过认证referer，即来源网站，但是不利于扩展
    * 在请求头中加入token，服务器随机下发一个token，请求得时候验证
    * 设置cookies得samesite，严格模式下跨域不携带，但是还有兼容性问题
 